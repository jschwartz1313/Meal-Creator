<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Creator - Track Meals & Recipes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>üçΩÔ∏è Meal Creator</h1>
                    <p class="tagline">Track your favorite meals, create recipes, and manage ingredients</p>
                </div>
                <button id="dark-mode-toggle" class="dark-mode-btn" title="Toggle dark mode">üåô</button>
            </div>
        </div>
    </header>

    <nav class="tabs">
        <div class="container">
            <button class="tab-btn active" data-tab="meals">My Meals</button>
            <button class="tab-btn" data-tab="recipes">Recipes</button>
            <button class="tab-btn" data-tab="ingredients">Ingredients</button>
            <button class="tab-btn" data-tab="planner">Meal Planner</button>
            <button class="tab-btn" data-tab="shopping">Shopping List</button>
            <button class="tab-btn" data-tab="stats">üìä Stats</button>
        </div>
    </nav>

    <main class="container">
        <!-- Meals Tab -->
        <section id="meals-tab" class="tab-content active">
            <div class="section-header">
                <h2>My Favorite Meals</h2>
                <div class="header-actions">
                    <button class="btn btn-secondary btn-sm" id="export-data-btn">üì• Export Data</button>
                    <button class="btn btn-secondary btn-sm" id="import-data-btn">üì§ Import Data</button>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                    <button class="btn btn-secondary" id="random-meal-btn">üé≤ Random Meal</button>
                    <button class="btn btn-primary" id="add-meal-btn">+ Add Meal</button>
                </div>
            </div>
            <div class="filter-bar">
                <input type="text" id="meal-search" placeholder="Search meals..." class="search-input">
                <select id="meal-filter-category" class="filter-select">
                    <option value="">All Categories</option>
                    <option value="breakfast">Breakfast</option>
                    <option value="lunch">Lunch</option>
                    <option value="dinner">Dinner</option>
                    <option value="snack">Snack</option>
                    <option value="dessert">Dessert</option>
                </select>
                <select id="meal-filter-rating" class="filter-select">
                    <option value="">All Ratings</option>
                    <option value="5">5 Stars</option>
                    <option value="4">4+ Stars</option>
                    <option value="3">3+ Stars</option>
                </select>
                <select id="meal-filter-favorite" class="filter-select">
                    <option value="">All Meals</option>
                    <option value="true">Favorites Only</option>
                </select>
                <select id="meal-sort" class="filter-select">
                    <option value="">Sort By</option>
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                    <option value="rating-desc">Rating (High-Low)</option>
                    <option value="rating-asc">Rating (Low-High)</option>
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                    <option value="recently-made">Recently Made</option>
                    <option value="most-made">Most Made</option>
                </select>
            </div>
            <div id="meals-list" class="cards-grid"></div>
        </section>

        <!-- Recipes Tab -->
        <section id="recipes-tab" class="tab-content">
            <div class="section-header">
                <h2>My Recipes</h2>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="import-recipe-btn">üì• Import Recipe</button>
                    <button class="btn btn-primary" id="add-recipe-btn">+ Create Recipe</button>
                </div>
            </div>
            <div id="suggestions-section" class="suggestions-section" style="display: none;">
                <h3>‚ú® Suggested for You</h3>
                <div id="suggestions-list" class="suggestions-list"></div>
            </div>
            <div id="recipes-list" class="cards-grid"></div>
        </section>

        <!-- Ingredients Tab -->
        <section id="ingredients-tab" class="tab-content">
            <div class="section-header">
                <h2>Ingredients Library</h2>
                <button class="btn btn-primary" id="add-ingredient-btn">+ Add Ingredient</button>
            </div>
            <div class="search-box">
                <input type="text" id="ingredient-search" placeholder="Search ingredients...">
            </div>
            <div id="ingredients-list" class="ingredients-container"></div>
        </section>

        <!-- Meal Planner Tab -->
        <section id="planner-tab" class="tab-content">
            <div class="section-header">
                <h2>Weekly Meal Planner</h2>
                <div class="planner-controls">
                    <button class="btn btn-secondary btn-sm" id="prev-week-btn">‚Üê Previous Week</button>
                    <span id="current-week-display"></span>
                    <button class="btn btn-secondary btn-sm" id="next-week-btn">Next Week ‚Üí</button>
                </div>
            </div>
            <div id="meal-planner-grid" class="planner-grid"></div>
        </section>

        <!-- Shopping List Tab -->
        <section id="shopping-tab" class="tab-content">
            <div class="section-header">
                <h2>Shopping List</h2>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="clear-shopping-list-btn">Clear All</button>
                    <button class="btn btn-primary" id="generate-shopping-list-btn">Generate from Planner</button>
                </div>
            </div>
            <div id="shopping-list-container" class="shopping-list"></div>
        </section>

        <!-- Stats Tab -->
        <section id="stats-tab" class="tab-content">
            <div class="section-header">
                <h2>üìä Cooking Stats</h2>
            </div>
            <div id="stats-container" class="stats-grid">
                <!-- Stats will be rendered here -->
            </div>
        </section>
    </main>

    <!-- Modal for Adding/Editing Meal -->
    <div id="meal-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="meal-modal-title">Add Meal</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="meal-form">
                <div class="form-group">
                    <label for="meal-name">Meal Name</label>
                    <input type="text" id="meal-name" required>
                </div>
                <div class="form-group">
                    <label for="meal-category">Category</label>
                    <select id="meal-category">
                        <option value="breakfast">Breakfast</option>
                        <option value="lunch">Lunch</option>
                        <option value="dinner">Dinner</option>
                        <option value="snack">Snack</option>
                        <option value="dessert">Dessert</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="meal-rating">Rating</label>
                    <div class="rating-input">
                        <span class="star" data-rating="1">‚òÜ</span>
                        <span class="star" data-rating="2">‚òÜ</span>
                        <span class="star" data-rating="3">‚òÜ</span>
                        <span class="star" data-rating="4">‚òÜ</span>
                        <span class="star" data-rating="5">‚òÜ</span>
                    </div>
                    <input type="hidden" id="meal-rating" value="0">
                </div>
                <div class="form-group">
                    <label>Ingredients</label>
                    <div id="meal-ingredients-list"></div>
                    <button type="button" class="btn btn-secondary btn-sm" id="add-meal-ingredient-btn">+ Add Ingredient</button>
                </div>
                <div class="form-group">
                    <label for="meal-photo">Photo</label>
                    <input type="file" id="meal-photo" accept="image/*">
                    <div id="meal-photo-preview" class="photo-preview"></div>
                </div>
                <div class="form-group">
                    <label for="meal-tags">Tags (comma-separated)</label>
                    <input type="text" id="meal-tags" placeholder="e.g., healthy, quick, vegetarian">
                </div>
                <div class="form-group">
                    <label>Nutritional Information (optional)</label>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <label for="meal-calories">Calories</label>
                            <input type="number" id="meal-calories" min="0" placeholder="kcal">
                        </div>
                        <div class="nutrition-item">
                            <label for="meal-protein">Protein</label>
                            <input type="number" id="meal-protein" min="0" step="0.1" placeholder="g">
                        </div>
                        <div class="nutrition-item">
                            <label for="meal-carbs">Carbs</label>
                            <input type="number" id="meal-carbs" min="0" step="0.1" placeholder="g">
                        </div>
                        <div class="nutrition-item">
                            <label for="meal-fat">Fat</label>
                            <input type="number" id="meal-fat" min="0" step="0.1" placeholder="g">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="meal-notes">Notes</label>
                    <textarea id="meal-notes" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Meal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Adding/Editing Recipe -->
    <div id="recipe-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="recipe-modal-title">Create Recipe</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="recipe-form">
                <div class="form-group">
                    <label for="recipe-name">Recipe Name</label>
                    <input type="text" id="recipe-name" required>
                </div>
                <div class="form-group">
                    <label for="recipe-servings">Servings</label>
                    <input type="number" id="recipe-servings" min="1" value="4">
                </div>
                <div class="form-group">
                    <label for="recipe-prep-time">Prep Time (minutes)</label>
                    <input type="number" id="recipe-prep-time" min="0" value="15">
                </div>
                <div class="form-group">
                    <label for="recipe-cook-time">Cook Time (minutes)</label>
                    <input type="number" id="recipe-cook-time" min="0" value="30">
                </div>
                <div class="form-group">
                    <label for="recipe-difficulty">Difficulty Level</label>
                    <select id="recipe-difficulty">
                        <option value="easy">Easy</option>
                        <option value="medium">Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ingredients</label>
                    <div id="recipe-ingredients-list"></div>
                    <button type="button" class="btn btn-secondary btn-sm" id="add-recipe-ingredient-btn">+ Add Ingredient</button>
                </div>
                <div class="form-group">
                    <label for="recipe-instructions">Instructions</label>
                    <textarea id="recipe-instructions" rows="6" required></textarea>
                </div>
                <div class="form-group">
                    <label for="recipe-photo">Photo</label>
                    <input type="file" id="recipe-photo" accept="image/*">
                    <div id="recipe-photo-preview" class="photo-preview"></div>
                </div>
                <div class="form-group">
                    <label for="recipe-tags">Tags (comma-separated)</label>
                    <input type="text" id="recipe-tags" placeholder="e.g., italian, pasta, dinner">
                </div>
                <div class="form-group">
                    <label>Nutritional Information per Serving (optional)</label>
                    <div class="nutrition-grid">
                        <div class="nutrition-item">
                            <label for="recipe-calories">Calories</label>
                            <input type="number" id="recipe-calories" min="0" placeholder="kcal">
                        </div>
                        <div class="nutrition-item">
                            <label for="recipe-protein">Protein</label>
                            <input type="number" id="recipe-protein" min="0" step="0.1" placeholder="g">
                        </div>
                        <div class="nutrition-item">
                            <label for="recipe-carbs">Carbs</label>
                            <input type="number" id="recipe-carbs" min="0" step="0.1" placeholder="g">
                        </div>
                        <div class="nutrition-item">
                            <label for="recipe-fat">Fat</label>
                            <input type="number" id="recipe-fat" min="0" step="0.1" placeholder="g">
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Recipe</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Adding/Editing Ingredient -->
    <div id="ingredient-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3 id="ingredient-modal-title">Add Ingredient</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="ingredient-form">
                <div class="form-group">
                    <label for="ingredient-name">Ingredient Name</label>
                    <input type="text" id="ingredient-name" required>
                </div>
                <div class="form-group">
                    <label for="ingredient-category">Category</label>
                    <select id="ingredient-category">
                        <option value="produce">Produce</option>
                        <option value="protein">Protein</option>
                        <option value="dairy">Dairy</option>
                        <option value="grains">Grains</option>
                        <option value="spices">Spices & Herbs</option>
                        <option value="condiments">Condiments</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Ingredient</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Adding Meal to Planner -->
    <div id="planner-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>Add to Planner</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div id="planner-modal-content">
                <p>Select a meal or recipe:</p>
                <div id="planner-meal-select"></div>
            </div>
        </div>
    </div>

    <!-- Random Meal Modal -->
    <div id="random-meal-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üé≤ Random Meal Suggestion</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div id="random-meal-content" class="random-meal-display">
                <!-- Random meal will be displayed here -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="random-another-btn">üé≤ Try Another</button>
                <button type="button" class="btn btn-secondary cancel-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Edit Meal History Modal -->
    <div id="meal-history-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>Edit Meal History</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="meal-history-form">
                <div class="form-group">
                    <label for="history-times-made">Times Made</label>
                    <div class="number-input-group">
                        <button type="button" class="btn btn-sm btn-secondary" id="times-made-decrease">‚àí</button>
                        <input type="number" id="history-times-made" min="0" value="0">
                        <button type="button" class="btn btn-sm btn-secondary" id="times-made-increase">+</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="history-last-made">Last Made Date</label>
                    <input type="date" id="history-last-made">
                    <button type="button" class="btn btn-sm btn-secondary" id="clear-last-made">Clear Date</button>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Cooking Timer Modal -->
    <div id="timer-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>‚è±Ô∏è Cooking Timer</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="timer-display">
                <div id="timer-time" class="timer-time">00:00</div>
                <div id="timer-label" class="timer-label"></div>
            </div>
            <div class="timer-controls">
                <div class="timer-preset-buttons">
                    <button class="btn btn-sm btn-secondary timer-preset" data-minutes="5">5 min</button>
                    <button class="btn btn-sm btn-secondary timer-preset" data-minutes="10">10 min</button>
                    <button class="btn btn-sm btn-secondary timer-preset" data-minutes="15">15 min</button>
                    <button class="btn btn-sm btn-secondary timer-preset" data-minutes="30">30 min</button>
                </div>
                <div class="timer-custom">
                    <input type="number" id="timer-minutes" placeholder="Minutes" min="1" max="999">
                    <button class="btn btn-secondary" id="timer-set-btn">Set</button>
                </div>
                <div class="timer-actions">
                    <button class="btn btn-primary" id="timer-start-btn">Start</button>
                    <button class="btn btn-secondary" id="timer-pause-btn" disabled>Pause</button>
                    <button class="btn btn-danger" id="timer-reset-btn">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Recipe Review Modal -->
    <div id="review-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>üìù Add Review</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="review-form">
                <div class="form-group">
                    <label>Your Rating</label>
                    <div class="rating-input review-rating">
                        <span class="star" data-rating="1">‚òÜ</span>
                        <span class="star" data-rating="2">‚òÜ</span>
                        <span class="star" data-rating="3">‚òÜ</span>
                        <span class="star" data-rating="4">‚òÜ</span>
                        <span class="star" data-rating="5">‚òÜ</span>
                    </div>
                    <input type="hidden" id="review-rating" value="0">
                </div>
                <div class="form-group">
                    <label for="review-notes">Notes (optional)</label>
                    <textarea id="review-notes" rows="3" placeholder="How did it turn out? Any modifications?"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Review</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Recipe Import Modal -->
    <div id="import-recipe-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üì• Import Recipe</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <label for="import-recipe-text">Paste Recipe Text</label>
                <textarea id="import-recipe-text" rows="10" placeholder="Paste the recipe content here. Include the name, ingredients, and instructions."></textarea>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary cancel-btn">Cancel</button>
                <button type="button" class="btn btn-primary" id="parse-recipe-btn">Parse Recipe</button>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div id="share-modal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3>üîó Share</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <label>Share Code</label>
                <textarea id="share-code" rows="4" readonly></textarea>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-primary" id="copy-share-btn">üìã Copy to Clipboard</button>
                <button type="button" class="btn btn-secondary cancel-btn">Close</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
